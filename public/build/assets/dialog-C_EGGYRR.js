import{c as Z,u as ee,r as te,j as t}from"./app-Bzh0QcV-.js";import{B as ie}from"./button-DLyenbHO.js";import{D as le,a as se,b as re,c as ae,d as oe}from"./dialog-60B12crD.js";import{I as U}from"./input-BI3Hn33c.js";import{T as ne}from"./textarea-BOc5ahgU.js";import{s as W}from"./index-gSLmiL6w.js";import"./app-AjfTabGW.js";import"./utils-D0Zg16Wk.js";import"./index-Cs37kpNU.js";import"./index-DXbMLhRD.js";import"./x-Cc7sq3My.js";import"./createLucideIcon-Qg7y1Ni9.js";import"./index-CMWG4mbA.js";function Se(a){const e=Z.c(77),{open:n,onOpenChange:o,initialData:i,title:k,service_types:q,providers:z}=a;let E;e[0]===Symbol.for("react.memo_cache_sentinel")?(E={id_service_type:"",id_provider:"",name:"",description:"",price:"",type_room:"",type_car:"",type_meal:"",limit:"",unit:"",priceDefault:""},e[0]=E):E=e[0];const{data:s,setData:l,post:A,put:J,processing:K,errors:w,reset:c}=ee(E);let F;e[1]!==i||e[2]!==c||e[3]!==l?(F=()=>{i?l({id_service_type:i.id_service_type||"",id_provider:i.id_provider||"",name:i.name||"",description:i.description||"",price:i.price?.toString()||"",type_room:i.type_room||"",type_car:i.type_car||"",type_meal:i.type_meal||"",limit:i.limit?.toString()||"",unit:i.unit||"",priceDefault:i.priceDefault||""}):c()},e[1]=i,e[2]=c,e[3]=l,e[4]=F):F=e[4];let B;e[5]!==i||e[6]!==n?(B=[i,n],e[5]=i,e[6]=n,e[7]=B):B=e[7],te.useEffect(F,B);let I;e[8]!==i||e[9]!==o||e[10]!==A||e[11]!==J||e[12]!==c?(I=r=>{r.preventDefault(),i?.id?J(W.update(i.id).url,{onSuccess:()=>o(!1)}):A(W.store().url,{onSuccess:()=>{o(!1),c()}})},e[8]=i,e[9]=o,e[10]=A,e[11]=J,e[12]=c,e[13]=I):I=e[13];const P=I;let m;e[14]!==k?(m=t.jsx(le,{children:t.jsx(se,{children:k})}),e[14]=k,e[15]=m):m=e[15];let R;e[16]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("label",{className:"text-sm font-medium",children:"Tên dịch vụ"}),e[16]=R):R=e[16];let d;e[17]!==l?(d=r=>l("name",r.target.value),e[17]=l,e[18]=d):d=e[18];let p;e[19]!==s.name||e[20]!==d?(p=t.jsx(U,{placeholder:"Nhập tên dịch vụ",value:s.name,onChange:d}),e[19]=s.name,e[20]=d,e[21]=p):p=e[21];let f;e[22]!==w.name?(f=w.name&&t.jsx("p",{className:"mt-1 text-sm text-red-500",children:w.name}),e[22]=w.name,e[23]=f):f=e[23];let u;e[24]!==p||e[25]!==f?(u=t.jsxs("div",{children:[R,p,f]}),e[24]=p,e[25]=f,e[26]=u):u=e[26];let G;e[27]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("label",{className:"text-sm font-medium",children:"Loại dịch vụ"}),e[27]=G):G=e[27];const X=s.id_service_type;let h;e[28]!==l?(h=r=>l("id_service_type",r.target.value),e[28]=l,e[29]=h):h=e[29];let H;e[30]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("option",{value:"",children:"-- Chọn loại --"}),e[30]=H):H=e[30];let _;e[31]!==q?(_=q.map(me),e[31]=q,e[32]=_):_=e[32];let x;e[33]!==s.id_service_type||e[34]!==h||e[35]!==_?(x=t.jsxs("div",{children:[G,t.jsxs("select",{className:"w-full rounded-md border px-3 py-2",value:X,onChange:h,children:[H,_]})]}),e[33]=s.id_service_type,e[34]=h,e[35]=_,e[36]=x):x=e[36];let L;e[37]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("label",{className:"text-sm font-medium",children:"Nhà cung cấp"}),e[37]=L):L=e[37];const Y=s.id_provider;let v;e[38]!==l?(v=r=>l("id_provider",r.target.value),e[38]=l,e[39]=v):v=e[39];let M;e[40]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx("option",{value:"",children:"-- Chọn nhà cung cấp --"}),e[40]=M):M=e[40];let j;e[41]!==z?(j=z.map(ce),e[41]=z,e[42]=j):j=e[42];let y;e[43]!==s.id_provider||e[44]!==v||e[45]!==j?(y=t.jsxs("div",{children:[L,t.jsxs("select",{className:"w-full rounded-md border px-3 py-2",value:Y,onChange:v,children:[M,j]})]}),e[43]=s.id_provider,e[44]=v,e[45]=j,e[46]=y):y=e[46];let O;e[47]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx("label",{className:"text-sm font-medium",children:"Giá"}),e[47]=O):O=e[47];let g;e[48]!==l?(g=r=>l("price",r.target.value),e[48]=l,e[49]=g):g=e[49];let b;e[50]!==s.price||e[51]!==g?(b=t.jsxs("div",{children:[O,t.jsx(U,{type:"number",placeholder:"Nhập giá (VND)",value:s.price,onChange:g})]}),e[50]=s.price,e[51]=g,e[52]=b):b=e[52];let V;e[53]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("label",{className:"text-sm font-medium",children:"Mô tả"}),e[53]=V):V=e[53];let N;e[54]!==l?(N=r=>l("description",r.target.value),e[54]=l,e[55]=N):N=e[55];let S;e[56]!==s.description||e[57]!==N?(S=t.jsxs("div",{children:[V,t.jsx(ne,{placeholder:"Nhập mô tả dịch vụ",value:s.description,onChange:N})]}),e[56]=s.description,e[57]=N,e[58]=S):S=e[58];const Q=i?"Cập nhật":"Tạo mới";let D;e[59]!==K||e[60]!==Q?(D=t.jsx(re,{children:t.jsx(ie,{type:"submit",disabled:K,children:Q})}),e[59]=K,e[60]=Q,e[61]=D):D=e[61];let C;e[62]!==P||e[63]!==u||e[64]!==x||e[65]!==y||e[66]!==b||e[67]!==S||e[68]!==D?(C=t.jsxs("form",{onSubmit:P,className:"space-y-4",children:[u,x,y,b,S,D]}),e[62]=P,e[63]=u,e[64]=x,e[65]=y,e[66]=b,e[67]=S,e[68]=D,e[69]=C):C=e[69];let T;e[70]!==C||e[71]!==m?(T=t.jsxs(ae,{className:"max-w-[700px]",children:[m,C]}),e[70]=C,e[71]=m,e[72]=T):T=e[72];let $;return e[73]!==o||e[74]!==n||e[75]!==T?($=t.jsx(oe,{open:n,onOpenChange:o,children:T}),e[73]=o,e[74]=n,e[75]=T,e[76]=$):$=e[76],$}function ce(a){return t.jsx("option",{value:a.id,children:a.name},a.id)}function me(a){return t.jsx("option",{value:a.id,children:a.name},a.id)}export{Se as ServiceFormDialog};
