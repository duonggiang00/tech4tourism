import{c as ce,j as s,H as re,a as me}from"./app-CaSGj1uT.js";import{b as I,C as D,a as H,c as B}from"./card-B5yYBXn0.js";import{B as te}from"./badge-fjcL5lAh.js";import{B as oe}from"./button-BZEXzofL.js";import{T as le,a as ne,b as Q,c as n,d as ae,e as a}from"./table-CmhPySl3.js";import{A as he}from"./arrow-left-DWM__Iss.js";import{C as de,U as xe}from"./users-BVM233CZ.js";import{M as fe,P as je}from"./phone-Cd6K3pQD.js";import{D as pe}from"./dollar-sign-CtqSZOJi.js";import"./app-C1CjLIM7.js";import"./utils-D0Zg16Wk.js";import"./createLucideIcon-B2IF2C91.js";const ie={0:{label:"Chờ xử lý",color:"bg-yellow-500"},1:{label:"Đã xác nhận",color:"bg-green-500"},2:{label:"Đã hủy",color:"bg-red-500"},3:{label:"Hoàn thành",color:"bg-blue-500"}},ge={0:"Tiền mặt",1:"Chuyển khoản",2:"Thẻ tín dụng"};function Ae(C){const e=ce.c(73),{booking:t}=C,A=_e,P=ue,W=`Tra cứu Booking: ${t.code}`;let i;e[0]!==W?(i=s.jsx(re,{title:W}),e[0]=W,e[1]=i):i=e[1];let E;e[2]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsxs(oe,{variant:"ghost",onClick:Ne,className:"mb-4",children:[s.jsx(he,{className:"mr-2 h-4 w-4"}),"Tra cứu lại"]}),e[2]=E):E=e[2];let c;e[3]!==t.code?(c=s.jsxs("h1",{className:"text-3xl font-bold",children:["Booking: ",t.code]}),e[3]=t.code,e[4]=c):c=e[4];const X=ie[t.status]?.color||"bg-gray-500",Y=ie[t.status]?.label||"Unknown";let r;e[5]!==X||e[6]!==Y?(r=s.jsx(te,{className:X,children:Y}),e[5]=X,e[6]=Y,e[7]=r):r=e[7];let m;e[8]!==c||e[9]!==r?(m=s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c,r]})}),e[8]=c,e[9]=r,e[10]=m):m=e[10];let L;e[11]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(D,{children:s.jsxs(H,{className:"flex items-center gap-2",children:[s.jsx(de,{className:"h-5 w-5"}),"Thông tin Tour"]})}),e[11]=L):L=e[11];let O;e[12]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx("p",{className:"text-sm text-gray-500",children:"Tour"}),e[12]=O):O=e[12];const Z=t.tourInstance?.tourTemplate?.title||"N/A";let o;e[13]!==Z?(o=s.jsxs("div",{children:[O,s.jsx("p",{className:"font-medium",children:Z})]}),e[13]=Z,e[14]=o):o=e[14];let h;e[15]!==t.tourInstance?(h=t.tourInstance&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Ngày khởi hành"}),s.jsx("p",{className:"font-medium",children:P(t.tourInstance.date_start)})]}),t.tourInstance.date_end&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Ngày kết thúc"}),s.jsx("p",{className:"font-medium",children:P(t.tourInstance.date_end)})]})]}),e[15]=t.tourInstance,e[16]=h):h=e[16];let d;e[17]!==o||e[18]!==h?(d=s.jsxs(I,{children:[L,s.jsxs(B,{className:"space-y-3",children:[o,h]})]}),e[17]=o,e[18]=h,e[19]=d):d=e[19];let R;e[20]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(D,{children:s.jsxs(H,{className:"flex items-center gap-2",children:[s.jsx(xe,{className:"h-5 w-5"}),"Thông tin Khách hàng"]})}),e[20]=R):R=e[20];let U;e[21]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx("p",{className:"text-sm text-gray-500",children:"Tên"}),e[21]=U):U=e[21];let x;e[22]!==t.client_name?(x=s.jsxs("div",{children:[U,s.jsx("p",{className:"font-medium",children:t.client_name})]}),e[22]=t.client_name,e[23]=x):x=e[23];let F,M;e[24]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(fe,{className:"h-4 w-4 text-gray-400"}),M=s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),e[24]=F,e[25]=M):(F=e[24],M=e[25]);let f;e[26]!==t.client_email?(f=s.jsxs("div",{className:"flex items-center gap-2",children:[F,s.jsxs("div",{children:[M,s.jsx("p",{className:"font-medium",children:t.client_email})]})]}),e[26]=t.client_email,e[27]=f):f=e[27];let V,$;e[28]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(je,{className:"h-4 w-4 text-gray-400"}),$=s.jsx("p",{className:"text-sm text-gray-500",children:"Số điện thoại"}),e[28]=V,e[29]=$):(V=e[28],$=e[29]);let j;e[30]!==t.client_phone?(j=s.jsxs("div",{className:"flex items-center gap-2",children:[V,s.jsxs("div",{children:[$,s.jsx("p",{className:"font-medium",children:t.client_phone})]})]}),e[30]=t.client_phone,e[31]=j):j=e[31];let p;e[32]!==x||e[33]!==f||e[34]!==j?(p=s.jsxs(I,{children:[R,s.jsxs(B,{className:"space-y-3",children:[x,f,j]})]}),e[32]=x,e[33]=f,e[34]=j,e[35]=p):p=e[35];let K;e[36]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(D,{children:s.jsxs(H,{className:"flex items-center gap-2",children:[s.jsx(pe,{className:"h-5 w-5"}),"Thông tin Thanh toán"]})}),e[36]=K):K=e[36];let q;e[37]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx("p",{className:"text-sm text-gray-500",children:"Tổng tiền"}),e[37]=q):q=e[37];let g;e[38]!==t.final_price?(g=A(t.final_price),e[38]=t.final_price,e[39]=g):g=e[39];let N;e[40]!==g?(N=s.jsxs("div",{children:[q,s.jsx("p",{className:"text-xl font-bold text-green-600",children:g})]}),e[40]=g,e[41]=N):N=e[41];let z;e[42]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx("p",{className:"text-sm text-gray-500",children:"Còn nợ"}),e[42]=z):z=e[42];const ee=`text-lg font-medium ${t.left_payment>0?"text-red-600":"text-green-600"}`;let u;e[43]!==t.left_payment?(u=A(t.left_payment),e[43]=t.left_payment,e[44]=u):u=e[44];let _;e[45]!==ee||e[46]!==u?(_=s.jsxs("div",{children:[z,s.jsx("p",{className:ee,children:u})]}),e[45]=ee,e[46]=u,e[47]=_):_=e[47];let G;e[48]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx("p",{className:"text-sm text-gray-500",children:"Đã thanh toán"}),e[48]=G):G=e[48];const se=t.final_price-t.left_payment;let y;e[49]!==se?(y=A(se),e[49]=se,e[50]=y):y=e[50];let b;e[51]!==y?(b=s.jsxs("div",{children:[G,s.jsx("p",{className:"text-lg font-medium text-green-600",children:y})]}),e[51]=y,e[52]=b):b=e[52];let T;e[53]!==N||e[54]!==_||e[55]!==b?(T=s.jsxs(I,{children:[K,s.jsxs(B,{className:"space-y-3",children:[N,_,b]})]}),e[53]=N,e[54]=_,e[55]=b,e[56]=T):T=e[56];let v;e[57]!==d||e[58]!==p||e[59]!==T?(v=s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d,p,T]}),e[57]=d,e[58]=p,e[59]=T,e[60]=v):v=e[60];let S;e[61]!==t.passengers?(S=t.passengers&&t.passengers.length>0&&s.jsxs(I,{className:"mt-6",children:[s.jsx(D,{children:s.jsx(H,{children:"Danh sách Hành khách"})}),s.jsx(B,{children:s.jsxs(le,{children:[s.jsx(ne,{children:s.jsxs(Q,{children:[s.jsx(n,{children:"Họ tên"}),s.jsx(n,{children:"Loại"}),s.jsx(n,{children:"Ngày sinh"})]})}),s.jsx(ae,{children:t.passengers.map(l=>s.jsxs(Q,{children:[s.jsx(a,{className:"font-medium",children:l.fullname}),s.jsx(a,{children:l.type===0?"Người lớn":l.type===1?"Trẻ em":"Em bé"}),s.jsx(a,{children:l.birth?P(l.birth):"N/A"})]},l.id))})]})})]}),e[61]=t.passengers,e[62]=S):S=e[62];let k;e[63]!==t.payments?(k=t.payments&&t.payments.length>0&&s.jsxs(I,{className:"mt-6",children:[s.jsx(D,{children:s.jsx(H,{children:"Lịch sử Thanh toán"})}),s.jsx(B,{children:s.jsxs(le,{children:[s.jsx(ne,{children:s.jsxs(Q,{children:[s.jsx(n,{children:"Ngày"}),s.jsx(n,{children:"Số tiền"}),s.jsx(n,{children:"Phương thức"}),s.jsx(n,{children:"Trạng thái"})]})}),s.jsx(ae,{children:t.payments.map(l=>s.jsxs(Q,{children:[s.jsx(a,{children:P(l.date)}),s.jsx(a,{className:"font-medium",children:A(l.amount)}),s.jsx(a,{children:ge[l.method]||"N/A"}),s.jsx(a,{children:s.jsx(te,{className:l.status===1?"bg-green-500":"bg-red-500",children:l.status===1?"Thành công":"Thất bại"})})]},l.id))})]})})]}),e[63]=t.payments,e[64]=k):k=e[64];let w;e[65]!==v||e[66]!==S||e[67]!==k||e[68]!==m?(w=s.jsxs("div",{className:"mx-auto max-w-4xl",children:[E,m,v,S,k]}),e[65]=v,e[66]=S,e[67]=k,e[68]=m,e[69]=w):w=e[69];let J;return e[70]!==i||e[71]!==w?(J=s.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:[i,w]}),e[70]=i,e[71]=w,e[72]=J):J=e[72],J}function Ne(){return me.visit("/booking/lookup")}function ue(C){return new Date(C).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"})}function _e(C){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(C)}export{Ae as default};
