import{c as L,j as e,L as v,H as $,d as B,a as _}from"./app-jK4qC5mS.js";import{g as p,A as H}from"./app-layout-CRug86Ft.js";import{b as N,c as I}from"./card-B4BPmPsF.js";import{B as y}from"./button-CbjqQSYC.js";import{B as T}from"./badge-CgsJR6-J.js";import{S as E,a as A,b as D,c as n,d as M}from"./select-ykbT3YN1.js";import{t as b}from"./index-DP83cKko.js";import{C as U,U as V}from"./users-BMKuDtIB.js";import{M as R}from"./map-pin-D4UHYmQp.js";import{C as X}from"./clock-Cmnyr8BH.js";import{C as F}from"./index-CD0XU3oY.js";import{E as K}from"./eye-BKvQaNEo.js";import"./app-B32Q6Rc9.js";import"./utils-D0Zg16Wk.js";import"./index-DrepN1D_.js";import"./index-BY1UvJ8l.js";import"./x-CqTXyibP.js";import"./createLucideIcon-Dv7VkWmT.js";import"./avatar-ApwrDypj.js";import"./index-Dhq0cQs_.js";import"./index-CMWG4mbA.js";import"./index-D9s5CDJa.js";import"./index-7ujUmCNw.js";import"./app-logo-icon-BgMMptVa.js";import"./index-31lGrPGR.js";import"./index-gSLmiL6w.js";import"./index-DaohGxKX.js";import"./index-2FGh3n-F.js";import"./index-CGelz8kl.js";import"./file-text-B4sExV2-.js";import"./index-B4_oT4wZ.js";const w={0:{label:"Ch·ªù x√°c nh·∫≠n",color:"bg-yellow-100 text-yellow-800"},1:{label:"ƒêang th·ª±c hi·ªán",color:"bg-blue-100 text-blue-800"},2:{label:"Ho√†n th√†nh",color:"bg-green-100 text-green-800"},3:{label:"ƒê√£ h·ªßy",color:"bg-red-100 text-red-800"}};function _e(a){const t=L.c(15),{assignments:l,filters:C}=a,S=z,k=q;let m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsx($,{title:"L·ªãch tr√¨nh c·ªßa t√¥i"}),t[0]=m):m=t[0];let d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"üìÖ L·ªãch tr√¨nh c·ªßa t√¥i"}),e.jsx("p",{className:"text-muted-foreground",children:"Danh s√°ch c√°c chuy·∫øn ƒëi ƒë∆∞·ª£c ph√¢n c√¥ng"})]}),t[1]=d):d=t[1];const f=C.status||"all";let h;t[2]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsx(E,{className:"w-[180px]",children:e.jsx(A,{placeholder:"Tr·∫°ng th√°i"})}),t[2]=h):h=t[2];let x;t[3]===Symbol.for("react.memo_cache_sentinel")?(x=e.jsxs(D,{children:[e.jsx(n,{value:"all",children:"T·∫•t c·∫£"}),e.jsx(n,{value:"0",children:"Ch·ªù x√°c nh·∫≠n"}),e.jsx(n,{value:"1",children:"ƒêang th·ª±c hi·ªán"}),e.jsx(n,{value:"2",children:"Ho√†n th√†nh"}),e.jsx(n,{value:"3",children:"ƒê√£ h·ªßy"})]}),t[3]=x):x=t[3];let c;t[4]!==f?(c=e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[d,e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(M,{value:f,onValueChange:S,children:[h,x]})})]}),t[4]=f,t[5]=c):c=t[5];let i;t[6]!==l.data?(i=l.data.length===0?e.jsx(N,{children:e.jsxs(I,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(U,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"Ch∆∞a c√≥ chuy·∫øn ƒëi n√†o"}),e.jsx("p",{className:"text-muted-foreground",children:"B·∫°n s·∫Ω th·∫•y c√°c chuy·∫øn ƒëi ƒë∆∞·ª£c ph√¢n c√¥ng t·∫°i ƒë√¢y"})]})}):e.jsx("div",{className:"grid gap-4",children:l.data.map(s=>{const r=s.tourInstance?.tourTemplate||s.tour;if(!r)return null;const j=r.days||r.day||0,g=r.thumbnail?`${r.thumbnail}`:null;return e.jsx(N,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"w-full md:w-48 h-32 md:h-auto bg-muted flex-shrink-0",children:g?e.jsx("img",{src:g,alt:r.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(R,{className:"h-8 w-8 text-muted-foreground"})})}),e.jsx("div",{className:"flex-1 p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(T,{className:w[s.status]?.color||"bg-gray-100",children:w[s.status]?.label||"Kh√¥ng x√°c ƒë·ªãnh"})}),e.jsx("h3",{className:"text-lg font-semibold",children:r.title}),(s.tourInstance?.date_start||s.tour?.date_start)&&e.jsxs("p",{className:"text-sm font-medium text-blue-600",children:["Ng√†y kh·ªüi h√†nh: ",new Date(s.tourInstance?.date_start||s.tour?.date_start).toLocaleDateString("vi-VN")]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[j>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(X,{className:"h-4 w-4"}),j," ng√†y"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(V,{className:"h-4 w-4"}),s.trip_check_ins.length," ƒëi·ªÉm check-in"]}),e.jsxs("span",{className:"flex items-center gap-1",children:["üìù ",s.trip_notes.length," nh·∫≠t k√Ω"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 w-full md:w-auto mt-4 md:mt-0",children:[s.status==="0"&&e.jsxs(y,{onClick:()=>k(s.id),className:"gap-2 w-full md:w-auto",children:[e.jsx(F,{className:"h-4 w-4"}),"X√°c nh·∫≠n ƒë√£ nh·∫≠n"]}),e.jsx(v,{href:p?.trip?.detail?p.trip.detail(s.id):`/guide/trip/${s.id}`,className:"w-full md:w-auto",children:e.jsxs(y,{variant:"outline",className:"gap-2 w-full md:w-auto",children:[e.jsx(K,{className:"h-4 w-4"}),"Xem chi ti·∫øt"]})})]})]})})]})},s.id)})}),t[6]=l.data,t[7]=i):i=t[7];let o;t[8]!==l.last_page||t[9]!==l.links?(o=l.last_page>1&&e.jsx("div",{className:"flex justify-center gap-2",children:l.links.map(P)}),t[8]=l.last_page,t[9]=l.links,t[10]=o):o=t[10];let u;return t[11]!==c||t[12]!==i||t[13]!==o?(u=e.jsxs(H,{children:[m,e.jsxs("div",{className:"space-y-6 p-6",children:[c,i,o]})]}),t[11]=c,t[12]=i,t[13]=o,t[14]=u):u=t[14],u}function P(a,t){return e.jsx(v,{href:a.url||"#",className:`px-3 py-1 rounded ${a.active?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"} ${a.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:a.label}},t)}async function q(a){try{await B.post(`/assignments/${a}/confirm`),b.success("ƒê√£ x√°c nh·∫≠n nh·∫≠n tour th√†nh c√¥ng!"),_.reload()}catch(t){const l=t;b.error(l.response?.data?.message||"C√≥ l·ªói x·∫£y ra")}}function z(a){const t=p?.schedule?p.schedule():"/guide/schedule";_.get(t,{status:a==="all"?void 0:a},{preserveState:!0,preserveScroll:!0})}export{_e as default};
