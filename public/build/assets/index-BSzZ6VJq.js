import{c as R,j as s,r as O,u as q,L as E,H as G}from"./app-U8YXLd1t.js";import{A as J,b as K,a as M,c as U,e as V,d as W,f as Y,g as Z}from"./alert-dialog-DCxlwQ0d.js";import{B as v}from"./button-BIK6FZZj.js";import{b as _,e as P,a as ee,c as B,T as se,d as te}from"./table-Ck7gMMMO.js";import{A as le}from"./app-layout-CdhcPiDn.js";import{p as k}from"./index-CGelz8kl.js";import{t as $}from"./index-Bo2RbnIz.js";import{PolicyFormDialog as ie}from"./dialog-CAKLaLUQ.js";import{F as I}from"./file-text-NfpqAQTW.js";import{E as L}from"./eye-DsvCdlV8.js";import{S as X}from"./square-pen-D2JEVRDn.js";import{T as Q}from"./trash-2-BwOlG3LX.js";import{P as re}from"./plus-BTSP3R2A.js";import"./app-ClQ2typU.js";import"./index-Hv_yU9_w.js";import"./index-B35DBIvM.js";import"./utils-D0Zg16Wk.js";import"./x-DKlh0bgi.js";import"./createLucideIcon-CBVvH8xR.js";import"./index-DXf1X9xn.js";import"./avatar-ChG8s8Pm.js";import"./index-Dhq0cQs_.js";import"./index-CMWG4mbA.js";import"./index-D9s5CDJa.js";import"./index-7ujUmCNw.js";import"./app-logo-icon-DyGRE7IG.js";import"./index-31lGrPGR.js";import"./index-gSLmiL6w.js";import"./index-DaohGxKX.js";import"./index-2FGh3n-F.js";import"./users-Df-G5ChN.js";import"./badge-CNS9zTCy.js";import"./dialog-4OB0kv9o.js";import"./label-BPy6BQ9z.js";import"./textarea-D7LKIosO.js";function ae(z){const e=R.c(26),{open:i,onOpenChange:g,onConfirm:j,title:u,description:y,loading:l,isDestructive:b}=z,A=b===void 0?!0:b;let m;e[0]!==u?(m=s.jsx(J,{children:u}),e[0]=u,e[1]=m):m=e[1];let r;e[2]!==y?(r=s.jsx(K,{children:y}),e[2]=y,e[3]=r):r=e[3];let x;e[4]!==m||e[5]!==r?(x=s.jsxs(M,{children:[m,r]}),e[4]=m,e[5]=r,e[6]=x):x=e[6];let a;e[7]!==l?(a=s.jsx(U,{disabled:l,children:"Hủy"}),e[7]=l,e[8]=a):a=e[8];let h;e[9]!==j?(h=p=>{p.preventDefault(),j()},e[9]=j,e[10]=h):h=e[10];const f=A?"bg-red-600 hover:bg-red-700":"",N=l?"Đang xử lý...":"Xác nhận";let n;e[11]!==l||e[12]!==h||e[13]!==f||e[14]!==N?(n=s.jsx(V,{onClick:h,disabled:l,className:f,children:N}),e[11]=l,e[12]=h,e[13]=f,e[14]=N,e[15]=n):n=e[15];let c;e[16]!==a||e[17]!==n?(c=s.jsxs(W,{children:[a,n]}),e[16]=a,e[17]=n,e[18]=c):c=e[18];let o;e[19]!==c||e[20]!==x?(o=s.jsxs(Y,{children:[x,c]}),e[19]=c,e[20]=x,e[21]=o):o=e[21];let d;return e[22]!==g||e[23]!==i||e[24]!==o?(d=s.jsx(Z,{open:i,onOpenChange:g,children:o}),e[22]=g,e[23]=i,e[24]=o,e[25]=d):d=e[25],d}const ne=[{title:"Quản lý Chính sách",href:k.index().url}];function qe(z){const e=R.c(29),{policies:i}=z,[g,j]=O.useState(!1),[u,y]=O.useState(null),[l,b]=O.useState(null),{delete:A,processing:m}=q();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{y(null),j(!0)},e[0]=r):r=e[0];const x=r;let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=t=>{y(t),j(!0)},e[1]=a):a=e[1];const h=a;let f;e[2]!==l||e[3]!==A?(f=()=>{l&&A(k.destroy(l).url,{onSuccess:()=>{$.success("Đã xóa chính sách thành công"),b(null)},onError:ce})},e[2]=l,e[3]=A,e[4]=f):f=e[4];const N=f;let n;e[5]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(G,{title:"Quản lý Chính sách"}),e[5]=n):n=e[5];let c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Danh sách Chính sách"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Quản lý các điều khoản và quy định chung."})]}),e[6]=c):c=e[6];let o;e[7]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[c,s.jsxs(v,{onClick:x,children:[s.jsx(re,{className:"mr-2 h-4 w-4"})," Thêm mới"]})]}),e[7]=o):o=e[7];let d;e[8]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(ee,{children:s.jsxs(_,{className:"bg-gray-50 hover:bg-gray-50",children:[s.jsx(B,{className:"w-[50px] text-center",children:"STT"}),s.jsx(B,{className:"min-w-[200px]",children:"Tiêu đề"}),s.jsx(B,{className:"w-[150px] text-center",children:"Hành động"})]})}),e[8]=d):d=e[8];let p;e[9]!==i?(p=i.length===0?s.jsx(_,{children:s.jsx(P,{colSpan:3,className:"h-32 text-center text-gray-500",children:"Chưa có chính sách nào. Hãy thêm mới!"})}):i.map((t,F)=>s.jsxs(_,{children:[s.jsx(P,{className:"text-center font-medium text-gray-500",children:F+1}),s.jsx(P,{className:"font-semibold text-gray-800",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(I,{className:"h-4 w-4 shrink-0 text-blue-500"}),s.jsx(E,{href:k.show(t.id),className:"hover:text-blue-600 hover:underline",children:t.title})]})}),s.jsx(P,{children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(E,{href:k.show(t.id),children:s.jsx(v,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500 hover:bg-blue-50 hover:text-blue-600",children:s.jsx(L,{className:"h-4 w-4"})})}),s.jsx(v,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500 hover:bg-amber-50 hover:text-amber-600",onClick:()=>h(t),children:s.jsx(X,{className:"h-4 w-4"})}),s.jsx(v,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500 hover:bg-red-50 hover:text-red-600",onClick:()=>b(t.id),children:s.jsx(Q,{className:"h-4 w-4"})})]})})]},t.id)),e[9]=i,e[10]=p):p=e[10];let w;e[11]!==p?(w=s.jsx("div",{className:"hidden md:block",children:s.jsxs(se,{children:[d,s.jsx(te,{children:p})]})}),e[11]=p,e[12]=w):w=e[12];let D;e[13]!==i?(D=s.jsx("div",{className:"md:hidden",children:i.length===0?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Chưa có chính sách nào. Hãy thêm mới!"}):s.jsx("div",{className:"divide-y divide-gray-200",children:i.map((t,F)=>s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("span",{className:"text-gray-400 font-mono text-sm pt-0.5",children:["#",F+1]}),s.jsx(I,{className:"h-5 w-5 text-blue-500 shrink-0 mt-0.5"}),s.jsx(E,{href:k.show(t.id),className:"font-semibold text-gray-900 leading-tight hover:text-blue-600 flex-1",children:t.title})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2",children:[s.jsx(E,{href:k.show(t.id),className:"w-full",children:s.jsxs(v,{variant:"outline",size:"sm",className:"w-full text-blue-600",children:[s.jsx(L,{className:"h-4 w-4 mr-1"})," Xem"]})}),s.jsxs(v,{variant:"outline",size:"sm",onClick:()=>h(t),className:"w-full text-amber-600",children:[s.jsx(X,{className:"h-4 w-4 mr-1"})," Sửa"]}),s.jsxs(v,{variant:"outline",size:"sm",onClick:()=>b(t.id),className:"w-full text-red-600",children:[s.jsx(Q,{className:"h-4 w-4 mr-1"})," Xóa"]})]})]},t.id))})}),e[13]=i,e[14]=D):D=e[14];let C;e[15]!==D||e[16]!==w?(C=s.jsxs("div",{className:"mx-auto max-w-7xl space-y-6",children:[o,s.jsxs("div",{className:"overflow-hidden rounded-lg border bg-white shadow-sm",children:[w,D]})]}),e[15]=D,e[16]=w,e[17]=C):C=e[17];let S;e[18]!==u||e[19]!==g?(S=s.jsx(ie,{open:g,onOpenChange:j,policy:u}),e[18]=u,e[19]=g,e[20]=S):S=e[20];let T;e[21]!==l||e[22]!==m||e[23]!==N?(T=l&&s.jsx(ae,{open:!!l,onOpenChange:t=>!t&&b(null),onConfirm:N,title:"Xóa chính sách?",description:"Bạn có chắc chắn muốn xóa chính sách này không? Hành động này không thể hoàn tác.",loading:m,isDestructive:!0}),e[21]=l,e[22]=m,e[23]=N,e[24]=T):T=e[24];let H;return e[25]!==C||e[26]!==S||e[27]!==T?(H=s.jsxs(le,{breadcrumbs:ne,children:[n,s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[C,S,T]})]}),e[25]=C,e[26]=S,e[27]=T,e[28]=H):H=e[28],H}function ce(){$.error("Lỗi khi xóa chính sách")}export{qe as default};
