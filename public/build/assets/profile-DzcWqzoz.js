import{c as S,r as w,j as t,F as q,b as H,L,H as T}from"./app-CQY01_Hl.js";import{q as N}from"./index-CMWG4mbA.js";import{s as A}from"./index-y-ziY71e.js";import{H as E,S as P}from"./layout-BKWPgLmo.js";import{I as b}from"./input-error-BcOIa3WC.js";import{B as x}from"./button-BluykqL-.js";import{d as I,c as V,b as X,g as B,f as R,a as $,e as z}from"./dialog-BkFPLtOE.js";import{I as v}from"./input-Cr4PK9yE.js";import{L as _}from"./label-EGOmbW92.js";import{A as M,i as O}from"./app-layout-BFesc2IZ.js";import{z as U}from"./transition-CfCt1yP8.js";import"./app-CEC-CZWY.js";import"./separator-f7GdoNOC.js";import"./utils-D0Zg16Wk.js";import"./index-B3vMSVka.js";import"./index-BZBSjhWP.js";import"./index-Cx_4zReh.js";import"./x-C5aSEyQM.js";import"./createLucideIcon-DRgLANJZ.js";import"./index-DK901XDU.js";import"./avatar-D1tWo-p_.js";import"./index-Dhq0cQs_.js";import"./index-D9s5CDJa.js";import"./index-7ujUmCNw.js";import"./app-logo-icon-Dr_4Q5D8.js";import"./index-31lGrPGR.js";import"./index-gSLmiL6w.js";import"./index-DaohGxKX.js";import"./index-2FGh3n-F.js";import"./index-CGelz8kl.js";import"./users-DZBot_VH.js";import"./file-text-BL_MquKf.js";import"./badge-BSQev8u6.js";import"./index-Du1opkJh.js";const a=e=>({url:a.url(e),method:"get"});a.definition={methods:["get","head"],url:"/settings/profile"};a.url=e=>a.definition.url+N(e);a.get=e=>({url:a.url(e),method:"get"});a.head=e=>({url:a.url(e),method:"head"});const k=e=>({action:a.url(e),method:"get"});k.get=e=>({action:a.url(e),method:"get"});k.head=e=>({action:a.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});a.form=k;const l=e=>({url:l.url(e),method:"patch"});l.definition={methods:["patch"],url:"/settings/profile"};l.url=e=>l.definition.url+N(e);l.patch=e=>({url:l.url(e),method:"patch"});const Q=e=>({action:l.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});Q.patch=e=>({action:l.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});l.form=Q;const o=e=>({url:o.url(e),method:"delete"});o.definition={methods:["delete"],url:"/settings/profile"};o.url=e=>o.definition.url+N(e);o.delete=e=>({url:o.url(e),method:"delete"});const D=e=>({action:o.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});D.delete=e=>({action:o.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});o.form=D;const F={update:l,destroy:o};function G(){const e=S.c(9),r=w.useRef(null);let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(E,{title:"Xóa tài khoản",description:"Xóa tài khoản và toàn bộ dữ liệu liên quan"}),e[0]=h):h=e[0];let p;e[1]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[t.jsx("p",{className:"font-medium",children:"Cảnh báo"}),t.jsx("p",{className:"text-sm",children:"Hãy cân nhắc kỹ, hành động này không thể hoàn tác."})]}),e[1]=p):p=e[1];let s;e[2]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsx(R,{asChild:!0,children:t.jsx(x,{variant:"destructive","data-test":"delete-user-button",children:"Xóa tài khoản"})}),e[2]=s):s=e[2];let n,m;e[3]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx($,{children:"Bạn có chắc chắn muốn xóa tài khoản?"}),m=t.jsx(z,{children:"Một khi tài khoản bị xóa, toàn bộ dữ liệu và tài nguyên liên quan sẽ bị xóa vĩnh viễn. Vui lòng nhập mật khẩu để xác nhận việc xóa tài khoản."}),e[3]=n,e[4]=m):(n=e[3],m=e[4]);let c,d,i;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=F.destroy.form(),d={preserveScroll:!0},i=()=>r.current?.focus(),e[5]=c,e[6]=d,e[7]=i):(c=e[5],d=e[6],i=e[7]);let u;return e[8]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsxs("div",{className:"space-y-6",children:[h,t.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[p,t.jsxs(I,{children:[s,t.jsxs(V,{children:[n,m,t.jsx(q,{...c,options:d,onError:i,resetOnSuccess:!0,className:"space-y-6",children:f=>{const{resetAndClearErrors:g,processing:y,errors:j}=f;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(_,{htmlFor:"password",className:"sr-only",children:"Mật khẩu"}),t.jsx(v,{id:"password",type:"password",name:"password",ref:r,placeholder:"Nhập mật khẩu",autoComplete:"current-password"}),t.jsx(b,{message:j.password})]}),t.jsxs(X,{className:"gap-2",children:[t.jsx(B,{asChild:!0,children:t.jsx(x,{variant:"secondary",onClick:()=>g(),children:"Hủy"})}),t.jsx(x,{variant:"destructive",disabled:y,asChild:!0,children:t.jsx("button",{type:"submit","data-test":"confirm-delete-user-button",children:"Xóa tài khoản"})})]})]})}})]})]})]})]}),e[8]=u):u=e[8],u}const J=[{title:"Cài đặt hồ sơ",href:O().url}];function De(e){const r=S.c(13),{mustVerifyEmail:h,status:p}=e,{auth:s}=H().props;let n;r[0]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(T,{title:"Cài đặt hồ sơ"}),r[0]=n):n=r[0];let m;r[1]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx(E,{title:"Thông tin hồ sơ",description:"Cập nhật tên và địa chỉ email của bạn"}),r[1]=m):m=r[1];let c,d;r[2]===Symbol.for("react.memo_cache_sentinel")?(c=F.update.form(),d={preserveScroll:!0},r[2]=c,r[3]=d):(c=r[2],d=r[3]);let i;r[4]!==s.user.email||r[5]!==s.user.email_verified_at||r[6]!==s.user.name||r[7]!==h||r[8]!==p?(i=t.jsxs("div",{className:"space-y-6",children:[m,t.jsx(q,{...c,options:d,className:"space-y-6",children:g=>{const{processing:y,recentlySuccessful:j,errors:C}=g;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(_,{htmlFor:"name",children:"Họ và tên"}),t.jsx(v,{id:"name",className:"mt-1 block w-full",defaultValue:s.user.name,name:"name",required:!0,autoComplete:"name",placeholder:"Nhập họ và tên"}),t.jsx(b,{className:"mt-2",message:C.name})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(_,{htmlFor:"email",children:"Địa chỉ Email"}),t.jsx(v,{id:"email",type:"email",className:"mt-1 block w-full",defaultValue:s.user.email,name:"email",required:!0,autoComplete:"username",placeholder:"Nhập địa chỉ email"}),t.jsx(b,{className:"mt-2",message:C.email})]}),h&&s.user.email_verified_at===null&&t.jsxs("div",{children:[t.jsxs("p",{className:"-mt-4 text-sm text-muted-foreground",children:["Email của bạn chưa được xác thực."," ",t.jsx(L,{href:A(),as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:"Nhấn vào đây để gửi lại email xác thực."})]}),p==="verification-link-sent"&&t.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"Đã gửi link xác thực mới đến địa chỉ email của bạn."})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(x,{disabled:y,"data-test":"update-profile-button",children:"Lưu"}),t.jsx(U,{show:j,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:t.jsx("p",{className:"text-sm text-neutral-600",children:"Đã lưu"})})]})]})}})]}),r[4]=s.user.email,r[5]=s.user.email_verified_at,r[6]=s.user.name,r[7]=h,r[8]=p,r[9]=i):i=r[9];let u;r[10]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(G,{}),r[10]=u):u=r[10];let f;return r[11]!==i?(f=t.jsxs(M,{breadcrumbs:J,children:[n,t.jsxs(P,{children:[i,u]})]}),r[11]=i,r[12]=f):f=r[12],f}export{De as default};
