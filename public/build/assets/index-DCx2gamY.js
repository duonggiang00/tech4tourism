import{c as oe,b as me,r as R,j as t,L as he,a as X,H as pe}from"./app-Bzh0QcV-.js";import{A as de,a as ue,b as xe}from"./alert-DfdtR1IU.js";import{B as M}from"./badge-GiRAufZZ.js";import{B as N}from"./button-DLyenbHO.js";import{I as fe}from"./input-BI3Hn33c.js";import{b as W,e as i,a as ge,c as v,T as je,d as we}from"./table-DiFZ2bUw.js";import{A as be}from"./app-layout-CMbpVfDp.js";import{p as y}from"./index-DaohGxKX.js";import{t as te}from"./index-rXl9eqvF.js";import{ProviderFormDialog as Ne}from"./diablog-BUfqkdrb.js";import{C as ve}from"./circle-check-Bf8bbdip.js";import{E as ye}from"./eye-ClZbg0AX.js";import{P as Se}from"./pencil-DdbMNkgJ.js";import{T as Ce}from"./trash-2-BzQ-ycRS.js";import{S as ee}from"./search-BDN3BQf_.js";import{P as Te}from"./plus-QDk8Rk0B.js";import"./app-AjfTabGW.js";import"./utils-D0Zg16Wk.js";import"./index-Cs37kpNU.js";import"./index-DXbMLhRD.js";import"./x-Cc7sq3My.js";import"./createLucideIcon-Qg7y1Ni9.js";import"./index-3aTD3_kd.js";import"./avatar-DMx0EJxa.js";import"./index-Dhq0cQs_.js";import"./index-CMWG4mbA.js";import"./index-D9s5CDJa.js";import"./index-7ujUmCNw.js";import"./app-logo-icon-Cbb-6XH_.js";import"./index-31lGrPGR.js";import"./index-gSLmiL6w.js";import"./index-2FGh3n-F.js";import"./index-CGelz8kl.js";import"./users-C6EN8SYz.js";import"./file-text-B2N7Qcbe.js";import"./dialog-60B12crD.js";import"./textarea-BOc5ahgU.js";const _e=[{title:"Danh sách Nhà Cung Cấp",href:y.index().url}];function xt(){const e=oe.c(60),{providers:n,flash:S,filters:Y,serviceTypes:F}=me().props,[a,se]=R.useState(Y.search||""),[l,ae]=R.useState(Y.status||"all"),[q,G]=R.useState(!1),[J,Z]=R.useState(null);let C;e[0]!==a||e[1]!==l?(C=s=>{s.preventDefault(),X.get(y.index().url,{search:a,status:l==="all"?"":l},{preserveState:!0,replace:!0,preserveScroll:!0})},e[0]=a,e[1]=l,e[2]=C):C=e[2];const c=C;let T;e[3]!==a?(T=s=>{const r=s.target.value;ae(r),X.get(y.index().url,{search:a,status:r==="all"?"":r},{preserveState:!0,replace:!0,preserveScroll:!0})},e[3]=a,e[4]=T):T=e[4];const Q=T,le=He,re=De;let _;e[5]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{Z(null),G(!0)},e[5]=_):_=e[5];const ne=_;let D;e[6]===Symbol.for("react.memo_cache_sentinel")?(D=s=>{Z(s),G(!0)},e[6]=D):D=e[6];const ie=D;let H;e[7]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(pe,{title:"Nhà Cung Cấp"}),e[7]=H):H=e[7];let o;e[8]!==S.message?(o=S.message&&t.jsx("div",{className:"m-4",children:t.jsxs(de,{className:"border-green-200 bg-green-50",children:[t.jsx(ve,{className:"h-4 w-4 text-green-600"}),t.jsx(ue,{className:"text-green-800",children:"Thông báo"}),t.jsx(xe,{className:"text-green-700",children:S.message})]})}),e[8]=S.message,e[9]=o):o=e[9];let E;e[10]===Symbol.for("react.memo_cache_sentinel")?(E=s=>se(s.target.value),e[10]=E):E=e[10];let m;e[11]!==a?(m=t.jsx(fe,{value:a,onChange:E,placeholder:"Tìm theo tên, email, hotline...",className:"w-full flex-1"}),e[11]=a,e[12]=m):m=e[12];let P;e[13]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(N,{type:"submit",variant:"secondary",className:"max-sm:hidden",children:t.jsx(ee,{className:"h-4 w-4"})}),e[13]=P):P=e[13];let h;e[14]!==c||e[15]!==m?(h=t.jsxs("form",{onSubmit:c,className:"flex flex-1 gap-2",children:[m,P]}),e[14]=c,e[15]=m,e[16]=h):h=e[16];let B,k,A,$;e[17]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("option",{value:"all",children:"Tất cả"}),k=t.jsx("option",{value:"1",children:"Hoạt động"}),A=t.jsx("option",{value:"0",children:"Không hoạt động"}),$=t.jsx("option",{value:"2",children:"Tạm ngưng"}),e[17]=B,e[18]=k,e[19]=A,e[20]=$):(B=e[17],k=e[18],A=e[19],$=e[20]);let p;e[21]!==Q||e[22]!==l?(p=t.jsxs("select",{value:l,onChange:Q,className:"w-full rounded-md border border-gray-300 px-3 py-2 sm:w-auto",children:[B,k,A,$]}),e[21]=Q,e[22]=l,e[23]=p):p=e[23];let I;e[24]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(ee,{className:"h-4 w-4"}),e[24]=I):I=e[24];let d;e[25]!==c?(d=t.jsxs(N,{onClick:c,className:"flex w-full items-center gap-2 sm:hidden",children:[I," Tìm kiếm"]}),e[25]=c,e[26]=d):d=e[26];let u;e[27]!==p||e[28]!==d||e[29]!==h?(u=t.jsxs("div",{className:"m-4 flex flex-col gap-3 sm:flex-row sm:items-center",children:[h,p,d]}),e[27]=p,e[28]=d,e[29]=h,e[30]=u):u=e[30];let K;e[31]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx("h2",{className:"text-lg font-semibold",children:"Danh sách Nhà Cung Cấp"}),e[31]=K):K=e[31];let L;e[32]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsxs("div",{className:"flex flex-col items-start justify-between gap-3 border-b p-4 sm:flex-row sm:items-center",children:[" ",K,t.jsxs(N,{onClick:ne,className:"w-full sm:w-auto",children:[" ",t.jsx(Te,{className:"mr-2 h-4 w-4"})," Thêm Nhà Cung Cấp"]})]}),e[32]=L):L=e[32];let z;e[33]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(ge,{children:t.jsxs(W,{children:[t.jsx(v,{className:"w-[50px] text-center whitespace-nowrap",children:"#"}),t.jsx(v,{className:"whitespace-nowrap",children:"Tên"}),t.jsx(v,{className:"whitespace-nowrap",children:"Email"}),t.jsx(v,{className:"whitespace-nowrap",children:"Hotline"}),t.jsx(v,{className:"whitespace-nowrap",children:"Trạng thái"}),t.jsx(v,{className:"text-center whitespace-nowrap",children:"Hành động"})]})}),e[33]=z):z=e[33];let x;e[34]!==n.data?(x=n.data.length===0?t.jsx(W,{children:t.jsx(i,{colSpan:6,className:"py-8 text-center text-gray-500",children:"Không có dữ liệu"})}):n.data.map((s,r)=>t.jsxs(W,{children:[t.jsx(i,{className:"text-center whitespace-nowrap",children:r+1}),t.jsx(i,{className:"whitespace-nowrap",children:s.name}),t.jsx(i,{className:"whitespace-nowrap",children:s.email||"—"}),t.jsx(i,{className:"whitespace-nowrap",children:s.hotline||"—"}),t.jsx(i,{className:"whitespace-nowrap",children:re(s.status)}),t.jsx(i,{className:"whitespace-nowrap",children:t.jsxs("div",{className:"flex justify-center gap-2",children:[t.jsx(he,{href:y.show(s.id).url,children:t.jsx(N,{variant:"ghost",size:"sm",title:"Xem chi tiết",children:t.jsx(ye,{className:"h-4 w-4"})})}),t.jsx(N,{variant:"ghost",size:"sm",title:"Chỉnh sửa",onClick:()=>ie(s),children:t.jsx(Se,{className:"h-4 w-4"})}),t.jsx(N,{variant:"ghost",size:"sm",title:"Xóa",onClick:()=>le(s.id,s.name),className:"text-red-500 hover:text-red-700",children:t.jsx(Ce,{className:"h-4 w-4"})})]})})]},s.id)),e[34]=n.data,e[35]=x):x=e[35];let f;e[36]!==x?(f=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(je,{className:"min-w-full",children:[" ",z,t.jsx(we,{children:x})]})}),e[36]=x,e[37]=f):f=e[37];let g;if(e[38]!==n.links||e[39]!==a||e[40]!==l){let s;e[42]!==a||e[43]!==l?(s=(r,ce)=>t.jsx("button",{disabled:!r.url,onClick:()=>{r.url&&X.get(r.url,{search:a,status:l==="all"?"":l},{preserveScroll:!0,preserveState:!0,replace:!0})},className:`rounded-md border px-3 py-1 text-sm transition-all ${r.active?"border-blue-600 bg-blue-600 text-white":"border-gray-200 bg-white text-gray-700 hover:bg-gray-100"} ${r.url?"":"cursor-not-allowed opacity-50"}`,dangerouslySetInnerHTML:{__html:r.label}},ce),e[42]=a,e[43]=l,e[44]=s):s=e[44],g=n.links.map(s),e[38]=n.links,e[39]=a,e[40]=l,e[41]=g}else g=e[41];let j;e[45]!==g?(j=t.jsxs("div",{className:"flex flex-wrap justify-center gap-2 p-4",children:[" ",g]}),e[45]=g,e[46]=j):j=e[46];let w;e[47]!==f||e[48]!==j?(w=t.jsxs("div",{className:"m-6 rounded-lg border bg-white shadow-sm",children:[L,f,j]}),e[47]=f,e[48]=j,e[49]=w):w=e[49];const U=J||void 0,V=J?`Chỉnh sửa: ${J.name}`:"Thêm Nhà Cung Cấp Mới";let b;e[50]!==q||e[51]!==F||e[52]!==U||e[53]!==V?(b=t.jsx(Ne,{open:q,onOpenChange:G,initialData:U,title:V,serviceTypes:F}),e[50]=q,e[51]=F,e[52]=U,e[53]=V,e[54]=b):b=e[54];let O;return e[55]!==u||e[56]!==w||e[57]!==b||e[58]!==o?(O=t.jsxs(be,{breadcrumbs:_e,children:[H,o,u,w,b]}),e[55]=u,e[56]=w,e[57]=b,e[58]=o,e[59]=O):O=e[59],O}function De(e){switch(e){case"1":return t.jsx(M,{className:"bg-green-100 text-green-700",children:"Hoạt động"});case"0":return t.jsx(M,{variant:"outline",children:"Không hoạt động"});case"2":return t.jsx(M,{className:"bg-yellow-100 text-yellow-700",children:"Tạm ngưng"});default:return t.jsx(M,{variant:"outline",children:"Không rõ"})}}function He(e,n){confirm(`Bạn có chắc muốn xóa nhà cung cấp "${n}"?`)&&X.delete(y.destroy(e).url,{onSuccess:Pe,onError:Ee})}function Ee(){return te.error("Không thể xóa nhà cung cấp!")}function Pe(){return te.success("Đã xóa nhà cung cấp thành công!")}export{xt as default};
