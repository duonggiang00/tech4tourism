import{r as l,j as i,c as L}from"./app-CQY01_Hl.js";import{u as N}from"./button-BluykqL-.js";import{u as O,c as H,d as R,e as j,f as G}from"./index-BZBSjhWP.js";import{u as K}from"./index-B4_eF53t.js";import{u as U,C as X}from"./index-DK901XDU.js";import{c as $}from"./utils-D0Zg16Wk.js";var y="Checkbox",[J,ne]=H(y),[Q,I]=J(y);function V(r){const{__scopeCheckbox:e,checked:n,children:s,defaultChecked:o,disabled:t,form:a,name:b,onCheckedChange:u,required:m,value:k="on",internal_do_not_use_render:p}=r,[f,v]=O({prop:n,defaultProp:o??!1,onChange:u,caller:y}),[x,C]=l.useState(null),[g,c]=l.useState(null),d=l.useRef(!1),E=x?!!a||!!x.closest("form"):!0,_={checked:f,disabled:t,setChecked:v,control:x,setControl:C,name:b,form:a,value:k,hasConsumerStoppedPropagationRef:d,required:m,defaultChecked:h(o)?!1:o,isFormControl:E,bubbleInput:g,setBubbleInput:c};return i.jsx(Q,{scope:e,..._,children:W(p)?p(_):s})}var S="CheckboxTrigger",w=l.forwardRef(({__scopeCheckbox:r,onKeyDown:e,onClick:n,...s},o)=>{const{control:t,value:a,disabled:b,checked:u,required:m,setControl:k,setChecked:p,hasConsumerStoppedPropagationRef:f,isFormControl:v,bubbleInput:x}=I(S,r),C=N(o,k),g=l.useRef(u);return l.useEffect(()=>{const c=t?.form;if(c){const d=()=>p(g.current);return c.addEventListener("reset",d),()=>c.removeEventListener("reset",d)}},[t,p]),i.jsx(R.button,{type:"button",role:"checkbox","aria-checked":h(u)?"mixed":u,"aria-required":m,"data-state":z(u),"data-disabled":b?"":void 0,disabled:b,value:a,...s,ref:C,onKeyDown:j(e,c=>{c.key==="Enter"&&c.preventDefault()}),onClick:j(n,c=>{p(d=>h(d)?!0:!d),x&&v&&(f.current=c.isPropagationStopped(),f.current||c.stopPropagation())})})});w.displayName=S;var B=l.forwardRef((r,e)=>{const{__scopeCheckbox:n,name:s,checked:o,defaultChecked:t,required:a,disabled:b,value:u,onCheckedChange:m,form:k,...p}=r;return i.jsx(V,{__scopeCheckbox:n,checked:o,defaultChecked:t,disabled:b,required:a,onCheckedChange:m,name:s,form:k,value:u,internal_do_not_use_render:({isFormControl:f})=>i.jsxs(i.Fragment,{children:[i.jsx(w,{...p,ref:e,__scopeCheckbox:n}),f&&i.jsx(A,{__scopeCheckbox:n})]})})});B.displayName=y;var M="CheckboxIndicator",T=l.forwardRef((r,e)=>{const{__scopeCheckbox:n,forceMount:s,...o}=r,t=I(M,n);return i.jsx(G,{present:s||h(t.checked)||t.checked===!0,children:i.jsx(R.span,{"data-state":z(t.checked),"data-disabled":t.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...r.style}})})});T.displayName=M;var q="CheckboxBubbleInput",A=l.forwardRef(({__scopeCheckbox:r,...e},n)=>{const{control:s,hasConsumerStoppedPropagationRef:o,checked:t,defaultChecked:a,required:b,disabled:u,name:m,value:k,form:p,bubbleInput:f,setBubbleInput:v}=I(q,r),x=N(n,v),C=K(t),g=U(s);l.useEffect(()=>{const d=f;if(!d)return;const E=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(E,"checked").set,D=!o.current;if(C!==t&&P){const F=new Event("click",{bubbles:D});d.indeterminate=h(t),P.call(d,h(t)?!1:t),d.dispatchEvent(F)}},[f,C,t,o]);const c=l.useRef(h(t)?!1:t);return i.jsx(R.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??c.current,required:b,disabled:u,name:m,value:k,form:p,...e,tabIndex:-1,ref:x,style:{...e.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});A.displayName=q;function W(r){return typeof r=="function"}function h(r){return r==="indeterminate"}function z(r){return h(r)?"indeterminate":r?"checked":"unchecked"}function se(r){const e=L.c(9);let n,s;e[0]!==r?({className:n,...s}=r,e[0]=r,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let o;e[3]!==n?(o=$("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),e[3]=n,e[4]=o):o=e[4];let t;e[5]===Symbol.for("react.memo_cache_sentinel")?(t=i.jsx(T,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:i.jsx(X,{className:"size-3.5"})}),e[5]=t):t=e[5];let a;return e[6]!==s||e[7]!==o?(a=i.jsx(B,{"data-slot":"checkbox",className:o,...s,children:t}),e[6]=s,e[7]=o,e[8]=a):a=e[8],a}export{se as C};
