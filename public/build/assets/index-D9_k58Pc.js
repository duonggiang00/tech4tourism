import{c as we,b as ye,u as ve,r as ce,j as s,a as me,H as Se}from"./app-U8YXLd1t.js";import{A as Ce,a as _e,b as Te}from"./alert-CJA6f2hX.js";import{B as o}from"./button-BIK6FZZj.js";import{I as De}from"./input-DIDqrx5K.js";import{S as pe,a as xe,c as ee,b as fe,d as ue}from"./select-DSR3rMaI.js";import{b as oe,e as m,a as ke,c as d,T as Ie,d as Ve}from"./table-Ck7gMMMO.js";import{A as Fe}from"./app-layout-CdhcPiDn.js";import{s as Z}from"./index-gSLmiL6w.js";import{ServiceFormDialog as Ae}from"./dialog-_PaFhDHL.js";import{C as He}from"./circle-check-4eLkc8G-.js";import{P as je}from"./pencil-BLnpbb7k.js";import{T as ge}from"./trash-2-BwOlG3LX.js";import{P as Le}from"./plus-BTSP3R2A.js";import"./app-ClQ2typU.js";import"./utils-D0Zg16Wk.js";import"./index-DXf1X9xn.js";import"./createLucideIcon-CBVvH8xR.js";import"./index-Hv_yU9_w.js";import"./index-B35DBIvM.js";import"./index-DCB7DMTV.js";import"./x-DKlh0bgi.js";import"./avatar-ChG8s8Pm.js";import"./index-Dhq0cQs_.js";import"./index-CMWG4mbA.js";import"./index-D9s5CDJa.js";import"./index-7ujUmCNw.js";import"./app-logo-icon-DyGRE7IG.js";import"./index-31lGrPGR.js";import"./index-DaohGxKX.js";import"./index-2FGh3n-F.js";import"./index-CGelz8kl.js";import"./users-Df-G5ChN.js";import"./file-text-NfpqAQTW.js";import"./badge-CNS9zTCy.js";import"./index-Bo2RbnIz.js";import"./dialog-4OB0kv9o.js";import"./textarea-D7LKIosO.js";const $e=[{title:"Danh sÃ¡ch Dá»‹ch vá»¥",href:Z.index().url}];function ys(){const e=we.c(88),{services:a,flash:P,service_types:l,providers:r,filters:i}=ye().props,{delete:se}=ve(),[te,ae]=ce.useState(!1),[$,de]=ce.useState(void 0),[n,Ne]=ce.useState(i.search||"");let z;e[0]!==se?(z=(t,c)=>{confirm(`Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a dá»‹ch vá»¥ "${c}" (ID: ${t})?`)&&se(Z.destroy(t).url)},e[0]=se,e[1]=z):z=e[1];const h=z;let B;e[2]===Symbol.for("react.memo_cache_sentinel")?(B=()=>{de(void 0),ae(!0)},e[2]=B):B=e[2];const be=B;let E;e[3]===Symbol.for("react.memo_cache_sentinel")?(E=t=>{de(t),ae(!0)},e[3]=E):E=e[3];const he=E;let O;e[4]!==i||e[5]!==n?(O=t=>{t.preventDefault(),me.get(Z.index().url,{...i,search:n},{preserveScroll:!0,replace:!0})},e[4]=i,e[5]=n,e[6]=O):O=e[6];const p=O;let R;e[7]!==i||e[8]!==n?(R=(t,c)=>{me.get(Z.index().url,{...i,search:n,[t]:c==="all"?"":c},{preserveScroll:!0,replace:!0})},e[7]=i,e[8]=n,e[9]=R):R=e[9];const x=R;let K;e[10]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(Se,{title:"Danh sÃ¡ch Dá»‹ch vá»¥"}),e[10]=K):K=e[10];let f;e[11]!==P.message?(f=P.message&&s.jsxs(Ce,{variant:"default",className:"border-green-200 bg-green-50",children:[s.jsx(He,{className:"h-4 w-4 text-green-600"}),s.jsx(_e,{className:"text-green-800",children:"ThÃ´ng bÃ¡o"}),s.jsx(Te,{className:"text-green-700",children:P.message})]}),e[11]=P.message,e[12]=f):f=e[12];let u;e[13]!==f?(u=s.jsx("div",{className:"m-4",children:f}),e[13]=f,e[14]=u):u=e[14];let G;e[15]===Symbol.for("react.memo_cache_sentinel")?(G=t=>Ne(t.target.value),e[15]=G):G=e[15];let j;e[16]!==n?(j=s.jsx("div",{className:"relative w-full md:w-80",children:s.jsx(De,{type:"text",placeholder:"ðŸ” TÃ¬m kiáº¿m theo tÃªn hoáº·c mÃ´ táº£...",value:n,onChange:G,className:"w-full pr-10"})}),e[16]=n,e[17]=j):j=e[17];let M;e[18]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx(o,{type:"submit",variant:"secondary",className:"max-md:hidden",children:"TÃ¬m kiáº¿m"}),e[18]=M):M=e[18];let g;e[19]!==p||e[20]!==j?(g=s.jsxs("form",{onSubmit:p,className:"flex w-full items-center gap-2 md:w-auto",children:[j,M]}),e[19]=p,e[20]=j,e[21]=g):g=e[21];const le=i.service_type_id||"all";let N;e[22]!==x?(N=t=>x("service_type_id",t),e[22]=x,e[23]=N):N=e[23];let q;e[24]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(pe,{className:"w-full sm:w-[180px]",children:s.jsx(xe,{placeholder:"Loáº¡i dá»‹ch vá»¥"})}),e[24]=q):q=e[24];let J;e[25]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx(ee,{value:"all",children:"Táº¥t cáº£ loáº¡i"}),e[25]=J):J=e[25];let b;e[26]!==l?(b=l.map(ze),e[26]=l,e[27]=b):b=e[27];let w;e[28]!==b?(w=s.jsxs(fe,{children:[J,b]}),e[28]=b,e[29]=w):w=e[29];let y;e[30]!==le||e[31]!==N||e[32]!==w?(y=s.jsxs(ue,{defaultValue:le,onValueChange:N,children:[q,w]}),e[30]=le,e[31]=N,e[32]=w,e[33]=y):y=e[33];const re=i.provider_id||"all";let v;e[34]!==x?(v=t=>x("provider_id",t),e[34]=x,e[35]=v):v=e[35];let Q;e[36]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx(pe,{className:"w-full sm:w-[180px]",children:s.jsx(xe,{placeholder:"NhÃ  cung cáº¥p"})}),e[36]=Q):Q=e[36];let U;e[37]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx(ee,{value:"all",children:"Táº¥t cáº£ NCC"}),e[37]=U):U=e[37];let S;e[38]!==r?(S=r.map(Pe),e[38]=r,e[39]=S):S=e[39];let C;e[40]!==S?(C=s.jsxs(fe,{children:[U,S]}),e[40]=S,e[41]=C):C=e[41];let _;e[42]!==re||e[43]!==v||e[44]!==C?(_=s.jsxs(ue,{defaultValue:re,onValueChange:v,children:[Q,C]}),e[42]=re,e[43]=v,e[44]=C,e[45]=_):_=e[45];let T;e[46]!==p?(T=s.jsx(o,{onClick:t=>p(t),variant:"secondary",className:"w-full md:hidden",children:"TÃ¬m kiáº¿m"}),e[46]=p,e[47]=T):T=e[47];let W;e[48]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsxs(o,{onClick:be,className:"w-full sm:w-auto",children:[" ",s.jsx(Le,{className:"mr-2 h-4 w-4"})," ThÃªm Dá»‹ch vá»¥"]}),e[48]=W):W=e[48];let D;e[49]!==y||e[50]!==_||e[51]!==T?(D=s.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-3",children:[y,_,T,W]}),e[49]=y,e[50]=_,e[51]=T,e[52]=D):D=e[52];const ie=$?`Chá»‰nh sá»­a: ${$.name}`:"Táº¡o má»›i Dá»‹ch vá»¥";let k;e[53]!==$||e[54]!==te||e[55]!==r||e[56]!==l||e[57]!==ie?(k=s.jsx(Ae,{open:te,onOpenChange:ae,initialData:$,title:ie,service_types:l,providers:r}),e[53]=$,e[54]=te,e[55]=r,e[56]=l,e[57]=ie,e[58]=k):k=e[58];let I;e[59]!==g||e[60]!==D||e[61]!==k?(I=s.jsxs("div",{className:"mx-4 my-4 flex flex-col justify-between gap-3 md:flex-row md:items-center",children:[g,D,k]}),e[59]=g,e[60]=D,e[61]=k,e[62]=I):I=e[62];let X;e[63]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx(ke,{children:s.jsxs(oe,{children:[s.jsx(d,{className:"w-[50px] text-center whitespace-nowrap",children:"STT"}),s.jsx(d,{className:"whitespace-nowrap",children:"TÃªn dá»‹ch vá»¥"}),s.jsx(d,{className:"whitespace-nowrap",children:"Loáº¡i"}),s.jsx(d,{className:"whitespace-nowrap",children:"NhÃ  cung cáº¥p"}),s.jsx(d,{className:"whitespace-nowrap",children:"GiÃ¡"}),s.jsx(d,{className:"whitespace-nowrap",children:"ÄÆ¡n vá»‹"}),s.jsx(d,{className:"text-center whitespace-nowrap",children:"HÃ nh Ä‘á»™ng"})]})}),e[63]=X):X=e[63];let V;e[64]!==h||e[65]!==r||e[66]!==l||e[67]!==a.data?(V=a.data.length>0?a.data.map((t,c)=>s.jsxs(oe,{children:[s.jsx(m,{className:"text-center whitespace-nowrap",children:c+1}),s.jsx(m,{className:"font-medium whitespace-nowrap",children:t.name}),s.jsx(m,{className:"whitespace-nowrap",children:l.find(ne=>ne.id===t.service_type_id)?.name}),s.jsx(m,{className:"whitespace-nowrap",children:r.find(ne=>ne.id===t.provider_id)?.name}),s.jsx(m,{className:"font-semibold whitespace-nowrap text-green-600",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(t.price)}),s.jsx(m,{className:"whitespace-nowrap",children:t.unit||"â€”"}),s.jsx(m,{className:"whitespace-nowrap",children:s.jsxs("div",{className:"flex justify-center gap-2",children:[s.jsx(o,{variant:"ghost",size:"sm",onClick:()=>he(t),className:"hover:bg-amber-50 hover:text-amber-600",children:s.jsx(je,{className:"h-4 w-4"})}),s.jsx(o,{variant:"ghost",size:"sm",onClick:()=>h(t.id,t.name),className:"hover:bg-red-50 hover:text-red-600",children:s.jsx(ge,{className:"h-4 w-4"})})]})})]},t.id)):s.jsx(oe,{children:s.jsx(m,{colSpan:7,className:"py-8 text-center text-gray-500",children:"KhÃ´ng cÃ³ dá»¯ liá»‡u phÃ¹ há»£p"})}),e[64]=h,e[65]=r,e[66]=l,e[67]=a.data,e[68]=V):V=e[68];let F;e[69]!==V?(F=s.jsx("div",{className:"mx-4 my-8 hidden overflow-x-auto rounded-lg border border-gray-200 bg-white shadow-sm md:block",children:s.jsxs(Ie,{className:"min-w-full",children:[X,s.jsx(Ve,{children:V})]})}),e[69]=V,e[70]=F):F=e[70];let A;e[71]!==h||e[72]!==r||e[73]!==l||e[74]!==a.data?(A=a.data.length>0?a.data.map(t=>s.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900",children:t.name}),s.jsxs("p",{className:"text-sm font-bold text-green-600",children:[new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(t.price),s.jsxs("span",{className:"ml-1 text-xs font-normal text-gray-500",children:["/ ",t.unit||"Láº§n"]})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(o,{variant:"ghost",size:"sm",onClick:()=>he(t),className:"h-8 w-8 p-0 text-amber-600 hover:bg-amber-50",children:s.jsx(je,{className:"h-4 w-4"})}),s.jsx(o,{variant:"ghost",size:"sm",onClick:()=>h(t.id,t.name),className:"h-8 w-8 p-0 text-red-600 hover:bg-red-50",children:s.jsx(ge,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"mt-2 space-y-1 border-t pt-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Loáº¡i:"}),s.jsx("span",{className:"font-medium",children:l.find(c=>c.id===t.service_type_id)?.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"NCC:"}),s.jsx("span",{className:"font-medium",children:r.find(c=>c.id===t.provider_id)?.name})]})]})]},t.id)):s.jsx("div",{className:"rounded-lg border border-dashed border-gray-300 bg-gray-50 p-8 text-center text-gray-500",children:"KhÃ´ng cÃ³ dá»¯ liá»‡u phÃ¹ há»£p"}),e[71]=h,e[72]=r,e[73]=l,e[74]=a.data,e[75]=A):A=e[75];let H;e[76]!==A?(H=s.jsx("div",{className:"mx-4 my-8 block space-y-4 md:hidden",children:A}),e[76]=A,e[77]=H):H=e[77];let L;e[78]!==i||e[79]!==n||e[80]!==a.links?(L=a.links&&a.links.length>3&&s.jsx("div",{className:"flex justify-center gap-2 p-4",children:a.links.map((t,c)=>s.jsx("button",{disabled:!t.url,onClick:()=>t.url&&me.get(t.url,{...i,search:n},{preserveScroll:!0,replace:!0}),className:`rounded border px-3 py-1 text-sm ${t.active?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,dangerouslySetInnerHTML:{__html:t.label}},c))}),e[78]=i,e[79]=n,e[80]=a.links,e[81]=L):L=e[81];let Y;return e[82]!==I||e[83]!==F||e[84]!==H||e[85]!==L||e[86]!==u?(Y=s.jsxs(Fe,{breadcrumbs:$e,children:[K,u,I,F,H,L]}),e[82]=I,e[83]=F,e[84]=H,e[85]=L,e[86]=u,e[87]=Y):Y=e[87],Y}function Pe(e){return s.jsx(ee,{value:String(e.id),children:e.name},e.id)}function ze(e){return s.jsx(ee,{value:String(e.id),children:e.name},e.id)}export{ys as default};
