import{c as ue,b as fe,r as X,j as s,L as re,a as q,H as ge}from"./app-jK4qC5mS.js";import{A as je,a as Ne,b as we}from"./alert-DI_7dO1h.js";import{B as F}from"./badge-CgsJR6-J.js";import{B as i}from"./button-CbjqQSYC.js";import{I as be}from"./input-DWK0bqH_.js";import{b as Z,e as c,a as ye,c as S,T as ve,d as Se}from"./table-vcSeCQFs.js";import{A as Ce}from"./app-layout-CRug86Ft.js";import{p as C}from"./index-DaohGxKX.js";import{t as oe}from"./index-DP83cKko.js";import{ProviderFormDialog as Te}from"./diablog-DzVIOdg5.js";import{C as De}from"./circle-check-BqPQtH70.js";import{E as ne}from"./eye-BKvQaNEo.js";import{P as ie}from"./pencil-BxEn5tA-.js";import{T as ce}from"./trash-2-CnNKrcSB.js";import{S as me}from"./search-vg3Tm0t9.js";import{P as ke}from"./plus-CqA-SAzD.js";import"./app-B32Q6Rc9.js";import"./utils-D0Zg16Wk.js";import"./index-DrepN1D_.js";import"./index-BY1UvJ8l.js";import"./x-CqTXyibP.js";import"./createLucideIcon-Dv7VkWmT.js";import"./index-CD0XU3oY.js";import"./avatar-ApwrDypj.js";import"./index-Dhq0cQs_.js";import"./index-CMWG4mbA.js";import"./index-D9s5CDJa.js";import"./index-7ujUmCNw.js";import"./app-logo-icon-BgMMptVa.js";import"./index-31lGrPGR.js";import"./index-gSLmiL6w.js";import"./index-2FGh3n-F.js";import"./index-CGelz8kl.js";import"./users-BMKuDtIB.js";import"./file-text-B4sExV2-.js";import"./dialog-vZSf95IW.js";import"./textarea-DfVMUKSG.js";const _e=[{title:"Danh sách Nhà Cung Cấp",href:C.index().url}];function gs(){const e=ue.c(65),{providers:l,flash:T,filters:ee,serviceTypes:G}=fe().props,[a,he]=X.useState(ee.search||""),[r,de]=X.useState(ee.status||"all"),[J,Q]=X.useState(!1),[U,se]=X.useState(null);let D;e[0]!==a||e[1]!==r?(D=t=>{t.preventDefault(),q.get(C.index().url,{search:a,status:r==="all"?"":r},{preserveState:!0,replace:!0,preserveScroll:!0})},e[0]=a,e[1]=r,e[2]=D):D=e[2];const m=D;let k;e[3]!==a?(k=t=>{const n=t.target.value;de(n),q.get(C.index().url,{search:a,status:n==="all"?"":n},{preserveState:!0,replace:!0,preserveScroll:!0})},e[3]=a,e[4]=k):k=e[4];const V=k,te=Ee,ae=He;let _;e[5]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{se(null),Q(!0)},e[5]=_):_=e[5];const xe=_;let H;e[6]===Symbol.for("react.memo_cache_sentinel")?(H=t=>{se(t),Q(!0)},e[6]=H):H=e[6];const le=H;let E;e[7]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(ge,{title:"Nhà Cung Cấp"}),e[7]=E):E=e[7];let o;e[8]!==T.message?(o=T.message&&s.jsx("div",{className:"m-4",children:s.jsxs(je,{className:"border-green-200 bg-green-50",children:[s.jsx(De,{className:"h-4 w-4 text-green-600"}),s.jsx(Ne,{className:"text-green-800",children:"Thông báo"}),s.jsx(we,{className:"text-green-700",children:T.message})]})}),e[8]=T.message,e[9]=o):o=e[9];let P;e[10]===Symbol.for("react.memo_cache_sentinel")?(P=t=>he(t.target.value),e[10]=P):P=e[10];let h;e[11]!==a?(h=s.jsx(be,{value:a,onChange:P,placeholder:"Tìm theo tên, email, hotline...",className:"w-full flex-1"}),e[11]=a,e[12]=h):h=e[12];let B;e[13]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(i,{type:"submit",variant:"secondary",className:"max-sm:hidden",children:s.jsx(me,{className:"h-4 w-4"})}),e[13]=B):B=e[13];let d;e[14]!==m||e[15]!==h?(d=s.jsxs("form",{onSubmit:m,className:"flex flex-1 gap-2",children:[h,B]}),e[14]=m,e[15]=h,e[16]=d):d=e[16];let z,A,I,K;e[17]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx("option",{value:"all",children:"Tất cả"}),A=s.jsx("option",{value:"1",children:"Hoạt động"}),I=s.jsx("option",{value:"0",children:"Không hoạt động"}),K=s.jsx("option",{value:"2",children:"Tạm ngưng"}),e[17]=z,e[18]=A,e[19]=I,e[20]=K):(z=e[17],A=e[18],I=e[19],K=e[20]);let x;e[21]!==V||e[22]!==r?(x=s.jsxs("select",{value:r,onChange:V,className:"w-full rounded-md border border-gray-300 px-3 py-2 sm:w-auto",children:[z,A,I,K]}),e[21]=V,e[22]=r,e[23]=x):x=e[23];let $;e[24]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx(me,{className:"h-4 w-4"}),e[24]=$):$=e[24];let p;e[25]!==m?(p=s.jsxs(i,{onClick:m,className:"flex w-full items-center gap-2 sm:hidden",children:[$," Tìm kiếm"]}),e[25]=m,e[26]=p):p=e[26];let u;e[27]!==x||e[28]!==p||e[29]!==d?(u=s.jsxs("div",{className:"m-4 flex flex-col gap-3 sm:flex-row sm:items-center",children:[d,x,p]}),e[27]=x,e[28]=p,e[29]=d,e[30]=u):u=e[30];let L;e[31]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx("h2",{className:"text-xl font-semibold",children:"Danh sách Nhà Cung Cấp"}),e[31]=L):L=e[31];let O;e[32]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsxs("div",{className:"flex flex-col items-start justify-between gap-3 border-b p-4 sm:flex-row sm:items-center",children:[L,s.jsxs(i,{onClick:xe,className:"w-full sm:w-auto",children:[s.jsx(ke,{className:"mr-2 h-4 w-4"})," Thêm Nhà Cung Cấp"]})]}),e[32]=O):O=e[32];let f;e[33]!==l.data?(f=l.data.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Không có dữ liệu"}):l.data.map(t=>s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border shadow-sm space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:t.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",t.id]})]}),s.jsx("div",{className:"shrink-0",children:ae(t.status)})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between border-b pb-2",children:[s.jsx("span",{className:"text-gray-500",children:"Email:"}),s.jsx("span",{className:"font-medium text-gray-900 break-all text-right ml-2",children:t.email||"—"})]}),s.jsxs("div",{className:"flex justify-between border-b pb-2",children:[s.jsx("span",{className:"text-gray-500",children:"Hotline:"}),s.jsx("span",{className:"font-medium text-gray-900 text-right ml-2",children:t.hotline||"—"})]})]}),s.jsxs("div",{className:"pt-2 flex justify-end gap-2",children:[s.jsx(re,{href:C.show(t.id).url,className:"flex-1",children:s.jsxs(i,{variant:"outline",size:"sm",className:"w-full",children:[s.jsx(ne,{className:"h-4 w-4 mr-2"})," Chi tiết"]})}),s.jsxs(i,{variant:"outline",size:"sm",onClick:()=>le(t),className:"flex-1",children:[s.jsx(ie,{className:"h-4 w-4 mr-2"})," Sửa"]}),s.jsx(i,{variant:"destructive",size:"sm",onClick:()=>te(t.id,t.name),className:"px-3",children:s.jsx(ce,{className:"h-4 w-4"})})]})]},t.id)),e[33]=l.data,e[34]=f):f=e[34];let g;e[35]!==f?(g=s.jsx("div",{className:"grid grid-cols-1 gap-4 p-4 sm:hidden",children:f}),e[35]=f,e[36]=g):g=e[36];let R;e[37]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(ye,{children:s.jsxs(Z,{children:[s.jsx(S,{className:"w-[50px] text-center whitespace-nowrap",children:"#"}),s.jsx(S,{className:"whitespace-nowrap",children:"Tên"}),s.jsx(S,{className:"whitespace-nowrap",children:"Email"}),s.jsx(S,{className:"whitespace-nowrap",children:"Hotline"}),s.jsx(S,{className:"whitespace-nowrap",children:"Trạng thái"}),s.jsx(S,{className:"text-center whitespace-nowrap",children:"Hành động"})]})}),e[37]=R):R=e[37];let j;e[38]!==l.data?(j=l.data.length===0?s.jsx(Z,{children:s.jsx(c,{colSpan:6,className:"py-8 text-center text-gray-500",children:"Không có dữ liệu"})}):l.data.map((t,n)=>s.jsxs(Z,{children:[s.jsx(c,{className:"text-center whitespace-nowrap",children:n+1}),s.jsx(c,{className:"whitespace-nowrap font-medium",children:t.name}),s.jsx(c,{className:"whitespace-nowrap",children:t.email||"—"}),s.jsx(c,{className:"whitespace-nowrap",children:t.hotline||"—"}),s.jsx(c,{className:"whitespace-nowrap",children:ae(t.status)}),s.jsx(c,{className:"whitespace-nowrap",children:s.jsxs("div",{className:"flex justify-center gap-2",children:[s.jsx(re,{href:C.show(t.id).url,children:s.jsx(i,{variant:"ghost",size:"sm",title:"Xem chi tiết",children:s.jsx(ne,{className:"h-4 w-4"})})}),s.jsx(i,{variant:"ghost",size:"sm",title:"Chỉnh sửa",onClick:()=>le(t),children:s.jsx(ie,{className:"h-4 w-4"})}),s.jsx(i,{variant:"ghost",size:"sm",title:"Xóa",onClick:()=>te(t.id,t.name),className:"text-red-500 hover:text-red-700",children:s.jsx(ce,{className:"h-4 w-4"})})]})})]},t.id)),e[38]=l.data,e[39]=j):j=e[39];let N;e[40]!==j?(N=s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs(ve,{className:"min-w-full",children:[R,s.jsx(Se,{children:j})]})}),e[40]=j,e[41]=N):N=e[41];let w;if(e[42]!==l.links||e[43]!==a||e[44]!==r){let t;e[46]!==a||e[47]!==r?(t=(n,pe)=>s.jsx("button",{disabled:!n.url,onClick:()=>{n.url&&q.get(n.url,{search:a,status:r==="all"?"":r},{preserveScroll:!0,preserveState:!0,replace:!0})},className:`rounded-md border px-3 py-1 text-sm transition-all ${n.active?"border-blue-600 bg-blue-600 text-white":"border-gray-200 bg-white text-gray-700 hover:bg-gray-100"} ${n.url?"":"cursor-not-allowed opacity-50"}`,dangerouslySetInnerHTML:{__html:n.label}},pe),e[46]=a,e[47]=r,e[48]=t):t=e[48],w=l.links.map(t),e[42]=l.links,e[43]=a,e[44]=r,e[45]=w}else w=e[45];let b;e[49]!==w?(b=s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 p-4",children:[" ",w]}),e[49]=w,e[50]=b):b=e[50];let y;e[51]!==g||e[52]!==N||e[53]!==b?(y=s.jsxs("div",{className:"m-6 rounded-lg border bg-white shadow-sm",children:[O,g,N,b]}),e[51]=g,e[52]=N,e[53]=b,e[54]=y):y=e[54];const W=U||void 0,Y=U?`Chỉnh sửa: ${U.name}`:"Thêm Nhà Cung Cấp Mới";let v;e[55]!==J||e[56]!==G||e[57]!==W||e[58]!==Y?(v=s.jsx(Te,{open:J,onOpenChange:Q,initialData:W,title:Y,serviceTypes:G}),e[55]=J,e[56]=G,e[57]=W,e[58]=Y,e[59]=v):v=e[59];let M;return e[60]!==u||e[61]!==y||e[62]!==v||e[63]!==o?(M=s.jsxs(Ce,{breadcrumbs:_e,children:[E,o,u,y,v]}),e[60]=u,e[61]=y,e[62]=v,e[63]=o,e[64]=M):M=e[64],M}function He(e){switch(e){case"1":return s.jsx(F,{className:"bg-green-100 text-green-700",children:"Hoạt động"});case"0":return s.jsx(F,{variant:"outline",children:"Không hoạt động"});case"2":return s.jsx(F,{className:"bg-yellow-100 text-yellow-700",children:"Tạm ngưng"});default:return s.jsx(F,{variant:"outline",children:"Không rõ"})}}function Ee(e,l){confirm(`Bạn có chắc muốn xóa nhà cung cấp "${l}"?`)&&q.delete(C.destroy(e).url,{onSuccess:Be,onError:Pe})}function Pe(){return oe.error("Không thể xóa nhà cung cấp!")}function Be(){return oe.success("Đã xóa nhà cung cấp thành công!")}export{gs as default};
